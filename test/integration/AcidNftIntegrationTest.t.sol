// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import {Test, console} from "forge-std/Test.sol";
import {DeployAcidNft} from "../../script/DeployAcidNft.s.sol";
import {AcidNft} from "../../src/tokens/AcidNft.sol";

contract AcidNftIntegrationTest is Test {
    string public constant NORMAL_SVG_URI =
        "data:application/json;base64,eyJuYW1lIjoiU2hyb29tTkZUIiwgImRlc2NyaXB0aW9uIjoiUXVlc3Rpb24gYXV0aG9yaXR5LiBUaGluayBmb3IgeW91cnNlbGYuIiwgImF0dHJpYnV0ZXMiOiBbeyJzdHJhaW5fdHlwZSI6ICJHb2xkZW4gVGVhY2hlciIsICJ2YWx1ZSI6IDEzN31dLCAiaW1hZ2UiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlhWE52TFRnNE5Ua3RNU0kvUGcwS1BITjJaeUJvWldsbmFIUTlJamd3TUhCNElpQjNhV1IwYUQwaU9EQXdjSGdpSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SWt4aGVXVnlYekVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlOQ2dsNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZG1sbGQwSnZlRDBpTUNBd0lEVXhNaUExTVRJaUlIaHRiRHB6Y0dGalpUMGljSEpsYzJWeWRtVWlQZzBLQ1R4d1lYUm9JSE4wZVd4bFBTSm1hV3hzT2lOR05FUTROVE03SWlCa1BTSk5NekU0TGpBMk1Td3lOVFpJTVRrekxqa3pPV010TVRJdU9EVXpMREF0TWpNdU1qY3pMREV3TGpReE9DMHlNeTR5TnpNc01qTXVNamN6ZGpFeU5DNHhNakVOQ2dsak1DdzBOeTR3TlRFc016Z3VNamd4TERnMUxqTXpNeXc0TlM0ek16TXNPRFV1TXpNemN6ZzFMak16TXkwek9DNHlPRElzT0RVdU16TXpMVGcxTGpNek0xWXlOemt1TWpjelF6TTBNUzR6TXpNc01qWTJMalF4T0N3ek16QXVPVEV6TERJMU5pd3pNVGd1TURZeExESTFObm9pSUM4K0RRb0pQR2MrRFFvSkNUeHdZWFJvSUhOMGVXeGxQU0ptYVd4c09pTkZPVUUwTkRBN0lpQmtQU0pOTXpFNExqQTJNU3d5TlRaSU1qVTJkakl6TWk0M01qZGpORGN1TURVekxEQXNPRFV1TXpNekxUTTRMakk0TWl3NE5TNHpNek10T0RVdU16TXpWakkzT1M0eU56TU5DZ2tKUXpNME1TNHpNek1zTWpZMkxqUXhPQ3d6TXpBdU9URXpMREkxTml3ek1UZ3VNRFl4TERJMU5ub2lJQzgrRFFvSkNUeHdZWFJvSUhOMGVXeGxQU0ptYVd4c09pTkZPVUUwTkRBN0lpQmtQU0pOTWpVMkxESXpMakkzTTJNdE1UUXhMakUxT0N3d0xUSTFOaXd4TVRRdU9EUXRNalUyTERJMU5tTXdMREV5TGpnMU1Td3hNQzQwTWl3eU15NHlOek1zTWpNdU1qY3pMREl6TGpJM00yZzBOalV1TkRVMURRb0pDV014TWk0NE5UTXNNQ3d5TXk0eU56TXRNVEF1TkRJeUxESXpMakkzTXkweU15NHlOek5ETlRFeUxERXpPQzR4TVRNc016azNMakUxT0N3eU15NHlOek1zTWpVMkxESXpMakkzTTNvaUlDOCtEUW9KUEM5blBnMEtDVHh3WVhSb0lITjBlV3hsUFNKbWFXeHNPaU5GTVRjNE5UZzdJaUJrUFNKTk1qVTJMREl6TGpJM00zWXlOemt1TWpjemFESXpNaTQzTWpkak1USXVPRFV6TERBc01qTXVNamN6TFRFd0xqUXlNaXd5TXk0eU56TXRNak11TWpjekRRb0pRelV4TWl3eE16Z3VNVEV6TERNNU55NHhOVGdzTWpNdU1qY3pMREkxTml3eU15NHlOek42SWlBdlBnMEtQQzl6ZG1jKyJ9";

    string public constant HEROIC_SVG_URI =
        "data:application/json;base64,eyJuYW1lIjoiU2hyb29tTkZUIiwgImRlc2NyaXB0aW9uIjoiUXVlc3Rpb24gYXV0aG9yaXR5LiBUaGluayBmb3IgeW91cnNlbGYuIiwgImF0dHJpYnV0ZXMiOiBbeyJzdHJhaW5fdHlwZSI6ICJHb2xkZW4gVGVhY2hlciIsICJ2YWx1ZSI6IDEzN31dLCAiaW1hZ2UiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlhWE52TFRnNE5Ua3RNU0kvUGdvOGMzWm5JR2hsYVdkb2REMGlPREF3Y0hnaUlIZHBaSFJvUFNJNE1EQndlQ0lnZG1WeWMybHZiajBpTVM0eElpQnBaRDBpVEdGNVpYSmZNU0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JZ29KZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lJSFpwWlhkQ2IzZzlJakFnTUNBeU9UY3VNREF4SURJNU55NHdNREVpSUhodGJEcHpjR0ZqWlQwaWNISmxjMlZ5ZG1VaVBnb0pQR2MrQ2drSlBIQmhkR2dnYzNSNWJHVTlJbVpwYkd3Nkl6TkJNMEV6UmpzaUlHUTlJazB4TkRJdU5UVTVMREV5TkM0ek5qZGpMVEV1TURFNUxUUXVNak01TFRVdU1qZzNMVFl1T0RRM0xUa3VOVEU0TFRVdU9ESTNZeTB6TGpZeE9Td3dMamczTFRZdU1EUXlMRFF1TVRBM0xUWXVNRE01TERjdU5qY3pTREV3TkM0MU53b0pDVWc0TWk0ek9URmpNQzR3TURNdE15NDJNVFl0TWk0ME9EZ3ROaTQ0TnpndE5pNHhOak10Tnk0M01ERmpMVFF1TWpVeUxUQXVPVFUwTFRndU5EY3pMREV1TnpJMExUa3VOREkxTERVdU9UYzJZeTB3TGpJNUxERXVNamswTFRjdU1Ea3NNekl1TURneUxUY3VNRGtzTmpjdU56WTRDZ2tKWXpBc016Y3VNREUyTERJNExqVXlOeXcwTnk0eU1ESXNORFF1TWpVMExEUTNMalV3TW1Nd0xqSTBNaXd3TGpBd05Td3dMalE1TVN3d0xqQXhOU3d3TGpjeU9Dd3dMakF4TldNeE5TNDFOVGdzTUN3ME5DNDVPRE10T1M0NU16RXNORFF1T1RnekxUUTNMalV4TndvSkNVTXhORGt1TmpjNExERTFOQzR6T1Rjc01UUXlMamcxTERFeU5TNDFOellzTVRReUxqVTFPU3d4TWpRdU16WTNlaUlnTHo0S0NRazhjR0YwYUNCemRIbHNaVDBpWm1sc2JEb2pORUUwUVRVeU95SUtDUWtKWkQwaVRUZ3lMak01TVN3eE1qWXVNakV6WXpBdU1EQXpMVE11TmpFMkxUSXVORGc0TFRZdU9EYzRMVFl1TVRZekxUY3VOekF4WXkwMExqSTFNaTB3TGprMU5DMDRMalEzTXl3eExqY3lOQzA1TGpReU5TdzFMamszTmdvSkNXTXRNQzR5T1N3eExqSTVOQzAzTGpBNUxETXlMakE0TWkwM0xqQTVMRFkzTGpjMk9HTXdMRE0zTGpBeE5pd3lPQzQxTWpjc05EY3VNakF5TERRMExqSTFOQ3cwTnk0MU1ETnNNQzQyTURJdE1URXpMalUwTmt3NE1pNHpPVEVzTVRJMkxqSXhNMHc0TWk0ek9URXNNVEkyTGpJeE0zb2lJQzgrQ2drSlBIQmhkR2dnYzNSNWJHVTlJbVpwYkd3Nkl6TkJNMEV6UmpzaUlHUTlJazB4TkRJdU5UVTVMREV5TkM0ek5qZGpMVEV1TURFNUxUUXVNak01TFRVdU1qZzNMVFl1T0RRM0xUa3VOVEU0TFRVdU9ESTNZeTB6TGpZeE9Td3dMamczTFRZdU1EUXlMRFF1TVRBM0xUWXVNRE01TERjdU5qY3pTREV3TkM0MU53b0pDV3d0TUM0Mk1ESXNNVEV6TGpVME5tTXdMakkwTWl3d0xqQXdOU3d3TGpRNU1Td3dMakF4TkN3d0xqY3lPQ3d3TGpBeE5HTXhOUzQxTlRnc01DdzBOQzQ1T0RNdE9TNDVNekVzTkRRdU9UZ3pMVFEzTGpVeE53b0pDVU14TkRrdU5qYzRMREUxTkM0ek9UY3NNVFF5TGpnMUxERXlOUzQxTnpZc01UUXlMalUxT1N3eE1qUXVNelkzZWlJZ0x6NEtDUWs4Y0dGMGFDQnpkSGxzWlQwaVptbHNiRG9qT1RCQk16bEdPeUlLQ1FrSlpEMGlUVEV3TlM0eU16Z3NNQzR3TURkRE1UQTFMakExTnl3d0xqQXdOaXd4TURRdU9EYzNMREFzTVRBMExqWTVOU3d3UXpRNExqRXpNaXd3TERJdU1URTBMRFEyTGpBeE9Dd3lMakV4TkN3eE1ESXVOVGd5Q2drSll6QXNNVFV1TlRVMExETXVORFUxTERJMUxqVTRPU3d4TUM0NE56UXNNekV1TlRnell6VXVNVGt5TERRdU1UazBMREV4TGpVME5pdzFMamN3TXl3eE9DNDNPRGNzTlM0M01ETmpPQzQxTkRnc01Dd3hPQzR6TXpNdE1pNHhNRE1zTWpndU9EazJMVFF1TXpjekNna0pZekV6TGpJeU5DMHlMamcwTXl3eU9DNHlNRFl0Tmk0d05qRXNORE11T0RneExUWXVNRGd4WXpBdU1EUTRMREFzTUM0d09UVXRNQzR3TURJc01DNHhORE10TUM0d01ESmpNVFV1TnpJM0xEQXNNekF1TnpZc015NHlNekVzTkRRdU1ESTBMRFl1TURneUNna0pZekU1TGpVeE5pdzBMakU1TXl3ek5pNHpOalVzTnk0NE1UTXNORGN1TmpnMUxURXVNekk1WXpjdU5ERTRMVFV1T1RrMExERXdMamczTkMweE5pNHdNamtzTVRBdU9EYzBMVE14TGpVNE0wTXlNRGN1TWpjNExEUTJMaklzTVRZeExqVTFNeXd3TGpNd01Td3hNRFV1TWpNNExEQXVNREEzZWlJZ0x6NEtDUWs4Y0dGMGFDQnpkSGxzWlQwaVptbHNiRG9qUVRGQ1JVSTVPeUlnWkQwaVRURXdOQzQyT1RVc01FTTBPQzR4TXpJc01Dd3lMakV4TkN3ME5pNHdNVGdzTWk0eE1UUXNNVEF5TGpVNE1tTXdMREUxTGpVMU5Dd3pMalExTlN3eU5TNDFPRGtzTVRBdU9EYzBMRE14TGpVNE13b0pDV00xTGpFNU1pdzBMakU1TkN3eE1TNDFORFlzTlM0M01ETXNNVGd1TnpnM0xEVXVOekF6WXpndU5UUTRMREFzTVRndU16TXpMVEl1TVRBekxESTRMamc1TmkwMExqTTNNMk14TXk0eU1qUXRNaTQ0TkRNc01qZ3VNakEyTFRZdU1EWXhMRFF6TGpnNE1TMDJMakE0TVd3d0xqWTROaTB4TWprdU5EQTJDZ2tKUXpFd05TNHdOVGNzTUM0d01EWXNNVEEwTGpnM055d3dMREV3TkM0Mk9UVXNNSG9pSUM4K0Nna0pQSEJoZEdnZ2MzUjViR1U5SW1acGJHdzZJemt3UVRNNVJqc2lDZ2tKQ1dROUlrMHhNRFV1TWpNNExEQXVNREEzYkMwd0xqWTROaXd4TWprdU5EQTJZekF1TURRNExEQXNNQzR3T1RVdE1DNHdNRElzTUM0eE5ETXRNQzR3TURKak1UVXVOekkzTERBc016QXVOellzTXk0eU16RXNORFF1TURJMExEWXVNRGd5Q2drSll6RTVMalV4Tml3MExqRTVNeXd6Tmk0ek5qVXNOeTQ0TVRNc05EY3VOamcxTFRFdU16STVZemN1TkRFNExUVXVPVGswTERFd0xqZzNOQzB4Tmk0d01qa3NNVEF1T0RjMExUTXhMalU0TTBNeU1EY3VNamM0TERRMkxqSXNNVFl4TGpVMU15d3dMak13TVN3eE1EVXVNak00TERBdU1EQTNlaUlnTHo0S0NRazhjR0YwYUNCemRIbHNaVDBpWm1sc2JEb2pRekUyUXpFM095SWdaRDBpVFRJd05DNHdOVGNzTVRrd0xqVXlPV010TXk0Mk1UUXRNQzQ0T0RVdE55NHlOVElzTUM0NE9ERXRPQzQ0T0RVc05DNHdOVEpzTFRFM0xqZ3pOQzA1TGpFNE9Xd3RNall1TURFNUxURXpMalF3TmdvSkNXTXhMalkxT0MwekxqSXhNaXd3TGprek9DMDNMakkxTkMweExqazFNaTA1TGpZMk9XTXRNeTR6TkRVdE1pNDNPVEl0T0M0ek1pMHlMak0wT0MweE1TNHhNVFlzTUM0NU9UZGpMVEF1T1RFMExERXVNRGswTFRJeUxqVTVNeXd5Tnk0eE9UUXROREF1TVRnMUxEWXhMak16T0FvSkNXTXRNVGd1TXpNNExETTFMalU0T0N3MExqWTFPU3cxT1M0ek5Dd3hPUzR6T0RFc05qWXVPVEkyWXpBdU1Ea3lMREF1TURRM0xEQXVNVGt4TERBdU1EazBMREF1TWpnMUxEQXVNVFF4WXpVdU5qTXlMREl1T0RRMkxERXpMamMzT0N3MUxqSTRNaXd5TWk0M01qWXNOUzR5T0RJS0NRbGpNVFF1TmpRNExEQXNNekV1TkRJMUxUWXVOVE15TERReUxqY3pOeTB5T0M0ME9EZGpNVGd1TmpZekxUTTJMakl5TVN3eU5pNHpNelV0TmpjdU1UUTVMREkyTGpZMU15MDJPQzQwTkRoRE1qRXdMamc0TVN3eE9UVXVPRE16TERJd09DNHlPRGtzTVRreExqVTJOU3d5TURRdU1EVTNMREU1TUM0MU1qa0tDUWw2SWlBdlBnb0pDVHh3WVhSb0lITjBlV3hsUFNKbWFXeHNPaU5HUVRrMk1VVTdJaUJrUFNKTk1UVXhMak14T1N3eE56RXVPVGcxWXpFdU5qVTRMVE11TWpFeUxEQXVPVE00TFRjdU1qVTBMVEV1T1RVeUxUa3VOalk1WXkwekxqTTBOUzB5TGpjNU1pMDRMak15TFRJdU16UTRMVEV4TGpFeE5pd3dMams1TndvSkNXTXRNQzQ1TVRRc01TNHdPVFF0TWpJdU5Ua3pMREkzTGpFNU5DMDBNQzR4T0RVc05qRXVNek00WXkweE9DNHpNemdzTXpVdU5UZzRMRFF1TmpVNUxEVTVMak0wTERFNUxqTTRNU3cyTmk0NU1qWmpNQzR3T1RJc01DNHdORGNzTUM0eE9URXNNQzR3T1RRc01DNHlPRFVzTUM0eE5ERUtDUWxzTlRrdU5qQTNMVEV3Tmk0ek1qWk1NVFV4TGpNeE9Td3hOekV1T1RnMWVpSWdMejRLQ1FrOGNHRjBhQ0J6ZEhsc1pUMGlabWxzYkRvalF6RTJRekUzT3lJZ1pEMGlUVEl3TkM0d05UY3NNVGt3TGpVeU9XTXRNeTQyTVRRdE1DNDRPRFV0Tnk0eU5USXNNQzQ0T0RFdE9DNDRPRFVzTkM0d05USnNMVEUzTGpnek5DMDVMakU0T1d3dE5Ua3VOakEzTERFd05pNHpNallLQ1Fsak5TNDJNeklzTWk0NE5EWXNNVE11TnpjNExEVXVNamd5TERJeUxqY3lOaXcxTGpJNE1tTXhOQzQyTkRnc01Dd3pNUzQwTWpVdE5pNDFNeklzTkRJdU56TTNMVEk0TGpRNE4yTXhPQzQyTmpNdE16WXVNakl4TERJMkxqTXpOUzAyTnk0eE5Ea3NNall1TmpVekxUWTRMalEwT0FvSkNVTXlNVEF1T0RneExERTVOUzQ0TXpNc01qQTRMakk0T1N3eE9URXVOVFkxTERJd05DNHdOVGNzTVRrd0xqVXlPWG9pSUM4K0Nna0pQSEJoZEdnZ2MzUjViR1U5SW1acGJHdzZJMFJDUWpNMk5Uc2lDZ2tKQ1dROUlrMHlORE11TkRJMkxEWTNMalV3Tm1NdE1pNDJNalF0TVM0Mk5EWXROUzR6TXpNdE15NHlMVGd1TVRNMkxUUXVOalExWXkwMU15NDVNVEl0TWpjdU56YzVMVEV5TUM0ek56RXROaTQxTVRZdE1UUTRMakUwTnl3ME55NHpPVFlLQ1FsakxUY3VOVGc1TERFMExqY3lPUzA1TGpJeU9Dd3lOUzQ0T0RVdE5TNHhOVGtzTXpVdU1UQTVZell1TWpFMExERTBMakE0Tnl3eU5DNHdNaklzTVRndU9UQXhMRFEwTGpZME1pd3lOQzQwTnpaak1UUXVNVFV4TERNdU9ESTFMRE13TGpFNE9TdzRMakUyTVN3ME5TNHpNaklzTVRVdU9UVTRDZ2tKWXpFdU16UXhMREF1TmpreExESXVOalUzTERFdU5ERXNNeTQ1TmpJc01pNHhOREZqTVRNdU5ESTNMRGN1TlRJeExESTFMakF4TkN3eE55NHdNalFzTXpVdU16UXNNalV1TlRBeVl6RTBMalk0TlN3eE1pNHdOVGdzTWpjdU5UZzNMREl5TGpZMU15dzBNQzQ0TnpJc01qSXVOalV6Q2drSll6RXVOalE0TERBc015NHpNRFF0TUM0eE5qUXNOQzQ1TmprdE1DNDFNRGhqT1M0NE56UXRNaTR3TkN3eE9DNHdNRGN0T1M0NE5Td3lOUzQxT1RVdE1qUXVOVGM1UXpNd09TNHdNVGtzTVRVNUxqa3dNU3d5T1RFdU1qYzBMRGszTGpVeU1Td3lORE11TkRJMkxEWTNMalV3Tm5vaUlDOCtDZ2tKUEhCaGRHZ2djM1I1YkdVOUltWnBiR3c2STBNNU9VVTFNRHNpSUdROUlrMHlORE11TkRJMkxEWTNMalV3Tmt3eE56VXVPVEVzTVRnM0xqazBZekV6TGpReU55dzNMalV5TVN3eU5TNHdNVFFzTVRjdU1ESTBMRE0xTGpNMExESTFMalV3TWdvSkNXTXhOQzQyT0RVc01USXVNRFU0TERJM0xqVTROeXd5TWk0Mk5UTXNOREF1T0RjeUxESXlMalkxTTJNeExqWTBPQ3d3TERNdU16QTBMVEF1TVRZMExEUXVPVFk1TFRBdU5UQTRZemt1T0RjMExUSXVNRFFzTVRndU1EQTNMVGt1T0RVc01qVXVOVGsxTFRJMExqVTNPUW9KQ1VNek1Ea3VNREU1TERFMU9TNDVNREVzTWpreExqSTNOQ3c1Tnk0MU1qRXNNalF6TGpReU5pdzJOeTQxTURaNklpQXZQZ29KQ1R4d1lYUm9JSE4wZVd4bFBTSm1hV3hzT2lORVFrSXpOalU3SWlCa1BTSk5Nak0xTGpJNUxEWXlMamcyTW1NdE5UTXVPVEV5TFRJM0xqYzNPUzB4TWpBdU16Y3hMVFl1TlRFMkxURTBPQzR4TkRjc05EY3VNemsyQ2drSll5MDNMalU0T1N3eE5DNDNNamt0T1M0eU1qZ3NNalV1T0RnMUxUVXVNVFU1TERNMUxqRXdPV00yTGpJeE5Dd3hOQzR3T0RZc01qUXVNREl5TERFNExqa3dNU3cwTkM0Mk5ESXNNalF1TkRjMll6RTBMakUxTVN3ekxqZ3lOU3d6TUM0eE9Ea3NPQzR4TmpFc05EVXVNekl5TERFMUxqazFPQW9KQ1dNeExqTTBMREF1TmpreExESXVOalUzTERFdU5ERXNNeTQ1TmpJc01pNHhOREZzTmpjdU5URTJMVEV5TUM0ME16UkRNalF3TGpnd01pdzJOUzQ0Tml3eU16Z3VNRGt5TERZMExqTXdOaXd5TXpVdU1qa3NOakl1T0RZeWVpSWdMejRLQ1R3dlp6NEtQQzl6ZG1jKyJ9";

    DeployAcidNft public deployer;
    AcidNft acidNft;

    address public USER = makeAddr("user");

    function setUp() public {
        deployer = new DeployAcidNft();
        acidNft = deployer.run();
    }

    function test_SwitchTokenTripToNormal() public {
        vm.prank(USER);
        acidNft.mintNft();

        vm.prank(USER);
        acidNft.switchTrip(0);

        assertEq(
            keccak256(abi.encodePacked(acidNft.tokenURI(0))),
            keccak256(abi.encodePacked(NORMAL_SVG_URI))
        );
    }
}
